<!DOCTYPE html>
<html lang="en">
<head>
    <link th:replace="fragments/libs.html :: bulma"/>
    <link th:replace="fragments/libs.html :: fa"/>
    <link th:replace="fragments/nav.html :: nav-css"/>
    <script th:replace="fragments/business_card.html :: card_js"/>
    <link rel="stylesheet" href="/css/reward_card.css">
    <link rel="stylesheet" href="/css/business_container.css">
    <meta charset="UTF-8">
    <title>Your shops</title>

</head>
<body>
<div th:replace="fragments/nav.html :: nav"></div>

<div class="is-full-width is-flex is-justify-content-space-between is-align-content-center" style="margin-top:13px; margin-left: 13px; margin-bottom: 13px">
    <a href="/"> < Back to dashboard</a>
    <div class="control has-icons-left">
        <input class="input" type="text" placeholder="Search">
        <span class="icon is-small is-left">
							<i class="fas fa-search"></i>
						</span>
    </div>
</div>

<div class="container is-full-width is-flex is-justify-flex-start is-align-items-flex-start is-flex-wrap-wrap">
    <div class="horiz_scroll is-full-width mb-1">
        <!--Reward Card Here-->
        <div th:each="shopMap: ${activeShops}" th:include="fragments/reward_card.html :: reward_card"
             th:with="title=${shopMap.get('Shop').shopName},
					 stamps=${shopMap.get('UserStampBoard').userStampPosition},
					 next_reward=${@claimableRewards.nextReward(shopMap.get('UserStampBoard'))},
					 reward_amount_obtained=${@claimableRewards.totalClaimableRewards(shopMap.get('UserStampBoard'))},
					 isFavourite=false,
					 total_reward_amount=${shopMap.get('Shop').getStampBoard.getRewards.size},
					 img_path=${shopMap.get('Shop').shopImage},
					 shopId=${shopMap.get('Shop').shopId}"></div>
    </div>

    <div class="horiz_scroll is-full-width mb-1">
        <!--Reward Card Here-->
        <div th:each="shop: ${favouriteShops}" th:include="fragments/reward_card.html :: reward_card"
             th:with="title=${shop.shopName},
					 stamps=0,
					 next_reward=${shop.getStampBoard.getRewards.get(0).rewardStampLocation},
					 reward_amount_obtained=0,
					 isFavourite=true,
					 total_reward_amount=${shop.getStampBoard.getRewards.size},
					 img_path=${shop.shopImage},
					 shopId=${shop.shopId}"></div>
    </div>
</div>


<!--
<div th:replace="shopMap : ${activeShops}">
    <h1 th:text="${shopMap.get('Shop').shopName}"></h1>
</div>
-->

</body>
</html>